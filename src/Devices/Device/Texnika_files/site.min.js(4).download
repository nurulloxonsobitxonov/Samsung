(function(){var e=window.sg.common.$q,h=window.sg.common.utils,g=window.sg.common.lazyLoad,f=window.sg.common.swiperManager,c=function(b){var a=this;this.$qWindow=e(window);this.ele={section:e(b),list:null,text:null,anchor:null,focusEl:null};this.timer=null;this.selector={list:".half-teaser-list__item",text:".half-teaser-list__text",anchor:".half-teaser-list__item a"};this.handler={resize:function(){a.timer&&clearTimeout(a.timer);a.timer=setTimeout(function(){a.ele.list.off("mouseenter",a.handler.mouseOverList);
a.ele.text.off("focus",a.handler.focusList);a.ele.anchor.off("focus",a.handler.focusList);"desktop"===h.getCurrentDevice()?(a.ele.list.on("mouseenter",a.handler.mouseOverList),a.ele.text.on("focus",a.handler.focusList),a.ele.anchor.on("focus",a.handler.focusList)):a.ele.section.find(".swiper-container").target.forEach(function(d){f.slideInitEnd(d,function(){f.getSwiper(d).slideTo(a.ele.section.find(".half-teaser-list__item--active").index())});f.slideChangeTransitionEnd(d,function(d,b){a.ele.list.removeClass("half-teaser-list__item--active");
a.ele.list.eq(b).addClass("half-teaser-list__item--active")})});a.setHasImgHeight()},10)},mouseOverList:function(d){var b=a.ele.section.find(".half-teaser-list__item--active");b.target.length&&(b.removeClass("half-teaser-list__item--active"),b.removeClass("swiper-slide-active"));g.setLazyLoad();a.ele.focusEl&&a.ele.focusEl.blur();d=e(d.target).closest(a.selector.list);a.ele.focusEl=d.find(a.selector.text);d.addClass("swiper-slide-active");d.addClass("half-teaser-list__item--active");a.setHasImgHeight()},
focusList:function(b){a.ele.list.removeClass("half-teaser-list__item--active");a.ele.list.removeClass("swiper-slide-active");g.setLazyLoad();b=e(b.target).closest(a.selector.list);a.ele.focusEl=b.find(a.selector.text);b.addClass("swiper-slide-active");b.addClass("half-teaser-list__item--active")}};this.init();c.instances.set(b,this)};c.prototype.init=function(){this.setProperty();this.bindEvents();this.handler.resize()};c.prototype.setProperty=function(){this.ele.list=this.ele.section.find(this.selector.list);
this.ele.text=this.ele.section.find(this.selector.text);this.ele.anchor=this.ele.section.find(this.selector.anchor)};c.prototype.bindEvents=function(){this.$qWindow.on("resize",this.handler.resize);this.ele.text.on("focus",this.handler.focusList);this.handler.resize()};c.prototype.unBindEvents=function(){this.$qWindow.off("resize",this.handler.resize);this.ele.text.off("focus",this.handler.focusList);this.ele.text.off("mouseover",this.handler.mouseOverList)};c.prototype.reInit=function(){this.unBindEvents();
this.init()};c.prototype.setHasImgHeight=function(){var b=this.ele.section.find(".half-teaser-list__item--active "+this.selector.text);"desktop"!==h.getCurrentDevice()?this.ele.text.css({height:""}):this.ele.text.target.forEach(function(a){if(a===b.target[0]){var c=b.find(".half-teaser-list__text-inner").target[0].scrollHeight;a.style.height=c+"px"}else a.style.height=a.querySelector(".half-teaser-list__title").getBoundingClientRect().height+2+"px"})};c.instances=new WeakMap;var k=function(){e(".half-teaser-list").target.forEach(function(b){c.instances.has(b)||
new c(b)})};e.ready(k);window.sg.components.halfTeaserList={init:k,reInit:function(){g.setLazyLoad();e(".half-teaser-list").target.forEach(function(b){f.slideReInit(e(b).find(".basic-swiper").target[0]);c.instances.has(b)?c.instances.get(b).reInit():new c(b)})}}})();